var x=s=>{throw TypeError(s)};var y=(s,i,t)=>i.has(s)||x("Cannot "+t);var n=(s,i,t)=>(y(s,i,"read from private field"),t?t.call(s):i.get(s)),g=(s,i,t)=>i.has(s)?x("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(s):i.set(s,t),k=(s,i,t,r)=>(y(s,i,"write to private field"),r?r.call(s,t):i.set(s,t),t),m=(s,i,t)=>(y(s,i,"access private method"),t);const A="searchDomAriaHidden",v="searchDomDisplay";var d,u,a,h,p;const C=class C extends HTMLElement{constructor(){super();g(this,a);g(this,d);g(this,u,()=>{var w,H;const t=this.getAttribute("target"),r=this.getAttribute("items");if(t&&r){this.dispatchEvent(new CustomEvent("search-dom",{detail:{type:"input",value:(w=n(this,a,h))==null?void 0:w.value}}));const o=(H=n(this,a,h))==null?void 0:H.value;document.querySelectorAll(t).forEach(S=>{this.dispatchEvent(new CustomEvent("search-dom",{detail:{type:"target",value:S}})),S.querySelectorAll(r).forEach(e=>{var D,q;let c=e.dataset[A],l=e.dataset[v];c||(e.dataset[A]=String(!!e.ariaHidden)),l||(e.dataset[v]=getComputedStyle(e).display),c=e.dataset[A],l=e.dataset[v];const B=!!(o!=null&&o.length),b=this.mode==="matchCase"?e.textContent:(D=e.textContent)==null?void 0:D.toLowerCase(),I=this.mode==="matchCase"?o:o==null?void 0:o.toLowerCase(),K=!!(b!=null&&b.includes(String(I))),L=B&&!K;L?(e.ariaHidden="true",e.style.display="none"):(c==="false"?e.removeAttribute("aria-hidden"):e.ariaHidden=c??"false",e.style.display=l??"inherit",e.getAttribute("style")===`display: ${l};`&&e.removeAttribute("style")),this.dispatchEvent(new CustomEvent("search-dom",{detail:{type:"item",value:(q=n(this,a,h))==null?void 0:q.value,target:e,isHidden:L}}))})})}})}connectedCallback(){var t;(t=n(this,d))==null||t.disconnect(),k(this,d,new MutationObserver(r=>{m(this,a,p).call(this)})),n(this,d).observe(this),m(this,a,p).call(this)}disconnectedCallback(){var t;(t=n(this,d))==null||t.disconnect()}attributeChangedCallback(){m(this,a,p).call(this)}run(){n(this,u).call(this,new Event("input",{}))}get target(){return this.getAttribute("target")}set target(t){t?this.setAttribute("target",t):this.removeAttribute("target")}get items(){return this.getAttribute("target")}set items(t){t?this.setAttribute("items",t):this.removeAttribute("items")}get mode(){return this.getAttribute("mode")??"normal"}set mode(t){const r=t&&["normal","matchCase"].includes(t)?t:void 0;r!=null&&r.length?this.setAttribute("mode",r):this.removeAttribute("mode")}};d=new WeakMap,u=new WeakMap,a=new WeakSet,h=function(){return this.querySelector("input[type='search']")||this.querySelector("input")},p=function(){n(this,a,h)&&n(this,a,h).addEventListener("input",n(this,u))},C.observedAttributes=["target","items","mode"];let f=C;customElements.define("search-dom",f);export{f as default};
//# sourceMappingURL=index-DTiNvKer.js.map
