var v=i=>{throw TypeError(i)};var P=(i,n,e)=>n.has(i)||v("Cannot "+e);var d=(i,n,e)=>(P(i,n,"read from private field"),e?e.call(i):n.get(i)),a=(i,n,e)=>n.has(i)?v("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(i):n.set(i,e),f=(i,n,e,t)=>(P(i,n,"write to private field"),t?t.call(i,e):n.set(i,e),e),l=(i,n,e)=>(P(i,n,"access private method"),e);var c,p,m,h,r,u;const w=class w extends HTMLElement{constructor(){super();a(this,r);a(this,c);a(this,p,({target:e})=>{this.setPiP(e.checked)});a(this,m,e=>{var s;const t=(s=window==null?void 0:window.documentPictureInPicture)==null?void 0:s.window;t==null||t.addEventListener("pagehide",d(this,h)),l(this,r,u).call(this)});a(this,h,e=>{l(this,r,u).call(this)});f(this,c,this.attachShadow({mode:"open"}))}static get observedAttributes(){return["disabled","id","position","width","height"]}static get enabledId(){var e;if(document.pictureInPictureElement)return(e=document.pictureInPictureElement)==null?void 0:e.id}get disabled(){return this.hasAttribute("disabled")}set disabled(e){this.toggleAttribute("disabled",!!e)}async setPiP(e){if(e)(await window.documentPictureInPicture.requestWindow({width:this.width?parseInt(this.width):300,height:this.height?parseInt(this.height):200})).addEventListener("pagehide",d(this,h));else return document.pictureInPictureElement&&await document.exitPictureInPicture(),!1;if(window.documentPictureInPicture.window)inPipMessage.style.display="none",playerContainer.append(videoPlayer),window.documentPictureInPicture.window.close();else{const t=await window.documentPictureInPicture.requestWindow({width:videoPlayer.clientWidth,height:videoPlayer.clientHeight+50});t.addEventListener("pagehide",s=>{inPipMessage.style.display="none",playerContainer.append(videoPlayer)}),[...document.styleSheets].forEach(s=>{try{const b=[...s.cssRules].map(y=>y.cssText).join(""),o=document.createElement("style");o.textContent=b,t.document.head.appendChild(o)}catch{const o=document.createElement("link");o.rel="stylesheet",o.type=s.type,o.media=s.media,o.href=s.href,t.document.head.appendChild(o)}}),t.document.body.append(videoPlayer),inPipMessage.style.display="block"}}get position(){return this.getAttribute("position")??"after"}set position(e){e||this.removeAttribute("position"),["after","before"].includes(e)?this.setAttribute("position",e):this.setAttribute("position","after")}get inUse(){return w.enabledId&&w.enabledId===this.id}get width(){return this.getAttribute("width")}set width(e){const t=parseInt(e);!t||t<0?this.removeAttribute("width"):this.setAttribute("width",t.toString())}get height(){return this.getAttribute("height")??""}set height(e){const t=parseInt(e);!t||t<0?this.removeAttribute("height"):this.setAttribute("height",t.toString())}connectedCallback(){l(this,r,u).call(this),"documentPictureInPicture"in window&&window.documentPictureInPicture.addEventListener("enter",d(this,m))}disconnectedCallback(){var e;if("documentPictureInPicture"in window){window.documentPictureInPicture.removeEventListener("enter",l(this,r,u));const t=(e=window==null?void 0:window.documentPictureInPicture)==null?void 0:e.window;t&&(t==null||t.removeEventListener("pagehide",d(this,h)))}}attributeChangedCallback(e,t,s){t!==s&&l(this,r,u).call(this)}};c=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,r=new WeakSet,u=function(){var t;const e=!this.disabled&&this.inUse;"documentPictureInPicture"in window?(d(this,c).innerHTML=`<input type="checkbox" id="pip-toggle" ${this.disabled?"":"disabled"} ${e?"checked":""}/>
                <label id="pip-toggle-label" for="pip-toggle">
                    <slot name="toggle-label">Picture-in-Picture</slot>
                </label>
                <div id="in-use" style="display:none;">
                    <slot name="in-use">PiP</slot>
                </div>
            <div id="in-pip" style="display:none;">
                <slot name="in-pip">In PiP</slot>
            </div>
            <div id="pip-container">
                <div id="content">
                    <slot name="content"></slot>
                    <slot></slot>
                </div>
            </div>`,(t=d(this,c).querySelector("input"))==null||t.addEventListener("change",d(this,p))):d(this,c).innerHTML=`<div id="not-available">
                    <slot name="not-available">PiP not available</slot>
                </div>`};let g=w;customElements&&!customElements.get("document-pip")&&customElements.define("document-pip",g);export{g as default};
//# sourceMappingURL=index-DnU_gqUa.js.map
