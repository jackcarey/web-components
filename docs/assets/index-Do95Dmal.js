var u=r=>{throw TypeError(r)};var h=(r,t,s)=>t.has(r)||u("Cannot "+s);var c=(r,t,s)=>(h(r,t,"read from private field"),s?s.call(r):t.get(r)),l=(r,t,s)=>t.has(r)?u("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,s),m=(r,t,s,a)=>(h(r,t,"write to private field"),a?a.call(r,s):t.set(r,s),s);var n,i;const e=class e extends HTMLElement{static get datasetAttribute(){return c(e,i)??"dynamic-template"}static set datasetAttribute(t){m(e,i,t!=null&&t.length?t:"dynamic-template")}connectedCallback(){var t;e.instances.add(this),this.render(),e.observer||c(t=e,n).call(t)}disconnectedCallback(){e.instances.delete(this),e.instances.size===0&&e.observer&&(e.observer.disconnect(),e.observer=null)}get templateName(){const t=this.closest(`[data-${e.datasetAttribute}]`);return t==null?void 0:t.dataset.dynamicTemplate}get templateId(){var o;const t=this.tagName.toLowerCase(),s=this.templateName?`${this.templateName}-${t}`:void 0;if(document.querySelector(`template[id="${s}"]`))return s;if(document.querySelector(`template[id="${t}"]`))return t;const a=(o=e.defaultTemplate)!=null&&o.length?e.defaultTemplate:void 0;if(a&&document.querySelector(`template[id="${a}"]`))return a}render(t){this.shadowRoot||this.attachShadow({mode:"open",delegatesFocus:!0});const s=t||this.templateId,a=s?document.querySelector(`template[id="${s}"]`):null,o=a==null?void 0:a.getAttribute("exportparts");if(o?this.setAttribute("exportparts",o):this.removeAttribute("exportparts"),a){const d=a.content.cloneNode(!0);this.shadowRoot.innerHTML="",this.shadowRoot.appendChild(d)}else this.shadowRoot.innerHTML=this.innerHTML}};n=new WeakMap,i=new WeakMap,l(e,n,()=>{var t;(t=e.observer)==null||t.disconnect(),e.observer=new MutationObserver(s=>{for(const a of e.instances)s.some(d=>d.target.contains(a))&&a.render()}),e.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[`data-${e.datasetAttribute}`]}),e.instances.forEach(s=>{s.render()})}),l(e,i,"dynamic-template"),e.defaultTemplate=void 0,e.observer=null,e.instances=new Set;let p=e;export{p as DynamicTemplate};
//# sourceMappingURL=index-Do95Dmal.js.map
