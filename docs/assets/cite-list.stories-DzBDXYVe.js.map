{"version":3,"file":"cite-list.stories-DzBDXYVe.js","sources":["../../stories/components/cite-list.stories.tsx"],"sourcesContent":["import type { Args, Meta, StoryObj } from \"@storybook/web-components-vite\";\nimport { CreateComponentDecorators, CreateComponentStoryMeta } from \"../utils\";\nimport { html } from \"lit\";\nimport { CiteList } from \"../../packages/cite-list\";\n\nconst renderFn: StoryObj[\"render\"] = (args: Args) => {\n    return html`<article>\n            <p>This is a paragraph with a <cite>citation 1</cite>.</p>\n            <p>Another paragraph with a <cite>citation 2</cite>.</p>\n            <p>And another one with a <cite>citation 3</cite>.</p>\n            <p>And another one with a <cite>citation 4</cite>.</p>\n            <p>And another one with a <cite>citation 5</cite>.</p>\n            <p>And another one with a <cite>citation 6</cite>.</p>\n            <p>And another one with a <cite>citation 7</cite>.</p>\n            <p>And another one with a <cite>citation 8</cite>.</p>\n            <p>And another one with a <cite>citation 9</cite>.</p>\n            <p>And another one with a <cite>citation 10</cite>.</p>\n        </article>\n        <hr />\n        <cite-list\n            selector=${args.selector ?? \"\"}\n            limit=${args.limit ?? 0}\n            link=${args?.link ? \"true\" : undefined}\n        ></cite-list>`;\n};\n\nconst meta: Meta = {\n    ...CreateComponentStoryMeta(\"diff-text\", undefined, {\n        decorators: [\n            ...CreateComponentDecorators(\"cite-list\", undefined),\n            (story) => {\n                if (!customElements.get(\"cite-list\")) {\n                    customElements.define(\"cite-list\", CiteList);\n                }\n                return html`${story()}`;\n            },\n        ],\n    }),\n    render: renderFn,\n    parameters: {\n        //these stories are ignored by default, they must be opt-ed in by setting this to false\n        chromatic: { disableSnapshot: true },\n    },\n};\n\nexport default meta;\n\ntype Story = StoryObj;\n\nexport const ArticleSelector: Story = {\n    args: {\n        selector: \"article\",\n    },\n};\n\nexport const NoSelector: Story = {\n    args: {},\n};\n\nexport const Limit: Story = {\n    args: {\n        selector: \"article\",\n        limit: 5,\n    },\n};\n\nexport const Link: Story = {\n    args: {\n        selector: \"article\",\n        link: true,\n    },\n    render: (args, context) => {\n        const originalStory = renderFn(args, context);\n        return html`${originalStory}\n            <article>\n                <p>\n                    This is a paragraph with a <cite>citation 1</cite>. It should be linked to the\n                    original citation.\n                </p>\n                <p>Another paragraph with a <cite>citation 2</cite>.</p>\n                <p>And another one with a <cite>citation 3</cite>.</p>\n                <p>And another one with a <cite>citation 4</cite>.</p>\n                <p>And another one with a <cite>citation 5</cite>.</p>\n                <p>And another one with a <cite>citation 6</cite>.</p>\n                <p>And another one with a <cite>citation 7</cite>.</p>\n                <p>And another one with a <cite>citation 8</cite>.</p>\n                <p>And another one with a <cite>citation 9</cite>.</p>\n                <p>And another one with a <cite>citation 10</cite>.</p>\n                <p>And another one with a <cite>citation 11</cite>.</p>\n                <p>And another one with a <cite>citation 12</cite>.</p>\n                <p>And another one with a <cite>citation 13</cite>.</p>\n                <p>And another one with a <cite>citation 14</cite>.</p>\n                <p>And another one with a <cite>citation 15</cite>.</p>\n                <p>And another one with a <cite>citation 16</cite>.</p>\n                <p>And another one with a <cite>citation 17</cite>.</p>\n                <p>And another one with a <cite>citation 18</cite>.</p>\n                <p>And another one with a <cite>citation 19</cite>.</p>\n                <p>And another one with a <cite>citation 20</cite>.</p>\n                <p>And another one with a <cite>citation 21</cite>.</p>\n                <p>And another one with a <cite>citation 22</cite>.</p>\n                <p>And another one with a <cite>citation 23</cite>.</p>\n                <p>And another one with a <cite>citation 24</cite>.</p>\n                <p>And another one with a <cite>citation 25</cite>.</p>\n                <p>And another one with a <cite>citation 26</cite>.</p>\n                <p>And another one with a <cite>citation 27</cite>.</p>\n                <p>And another one with a <cite>citation 28</cite>.</p>\n                <p>And another one with a <cite>citation 29</cite>.</p>\n                <p>And another one with a <cite>citation 30</cite>.</p>\n            </article>\n            <style>\n                cite-list a {\n                    color: blue;\n                    text-decoration: underline;\n                }\n            </style>`;\n    },\n};\n\nexport const ChangingCitations: Story = {\n    args: {\n        selector: \"article\",\n    },\n    render: (args, context) => {\n        const originalStory = renderFn(args, context);\n        return html`${originalStory}\n            <p>\n                A script updates the article above. The <code>cite-list</code> will automatically\n                update to reflect changes in the 'cite' elements.\n            </p>\n            <script>\n                setInterval(() => {\n                    const isAdding = Math.random() > 0.75;\n                    if (isAdding) {\n                        const newCite = document.createElement(\"cite\");\n                        newCite.textContent = \"New citation \" + (Date.now() % 1000);\n                        const article = document.querySelector(\"article\");\n                        if (article) {\n                            article.appendChild(newCite);\n                        }\n                    } else {\n                        const cites = document.querySelectorAll(\"cite\");\n                        if (cites.length > 0) {\n                            const randomIndex = Math.floor(Math.random() * cites.length);\n                            cites[randomIndex].innerText =\n                                \"updated citation \" + (Date.now() % 1000);\n                        }\n                    }\n                }, 1000);\n            </script>`;\n    },\n};\n"],"names":["_a","renderFn","args","html","selector","limit","link","undefined","meta","CreateComponentStoryMeta","decorators","CreateComponentDecorators","story","customElements","get","define","CiteList","render","parameters","chromatic","disableSnapshot","ArticleSelector","NoSelector","Limit","Link","context","originalStory","ChangingCitations","__template","docs","source","originalSource"],"mappings":"+NAAAA,EAKA,MAAMC,EAAgCC,GAC3BC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,uBAcYD,EAAKE,UAAY,EAAE;AAAA,oBACtBF,EAAKG,OAAS,CAAC;AAAA,mBAChBH,GAAAA,MAAAA,EAAMI,KAAO,OAASC,MAAS;AAAA,uBAI5CC,EAAa,CACf,GAAGC,EAAyB,YAAaF,OAAW,CAChDG,WAAY,CACR,GAAGC,EAA0B,YAAaJ,MAAS,EAClDK,IACQC,eAAeC,IAAI,WAAW,GAC/BD,eAAeE,OAAO,YAAaC,CAAQ,EAExCb,IAAOS,GAAO,GACxB,CAAA,CAER,EACDK,OAAQhB,EACRiB,WAAY,CAERC,UAAW,CAAEC,gBAAiB,EAAA,CAAK,CAE3C,EAMaC,EAAyB,CAClCnB,KAAM,CACFE,SAAU,SAAA,CAElB,EAEakB,EAAoB,CAC7BpB,KAAM,CAAA,CACV,EAEaqB,EAAe,CACxBrB,KAAM,CACFE,SAAU,UACVC,MAAO,CAAA,CAEf,EAEamB,EAAc,CACvBtB,KAAM,CACFE,SAAU,UACVE,KAAM,EAAA,EAEVW,OAAQA,CAACf,EAAMuB,IAAY,CACvB,MAAMC,EAAgBzB,EAASC,CAAa,EAC5C,OAAOC,IAAOuB,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA0C/B,CACJ,EAEaC,EAA2B,CACpCzB,KAAM,CACFE,SAAU,SAAA,EAEda,OAAQA,CAACf,EAAMuB,IAAY,CACvB,MAAMC,EAAgBzB,EAASC,CAAa,EAC5C,OAAOC,QAAIyB,EAAA,CAAA,GAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAA,CAAA,GAAbF,CAAAA,CAyBlB,CACJ,YAACL,EAAAH,WAAA,CAAA,GAAAG,EAAAH,WAAAW,KAAA,CAAA,IAAAR,EAAAA,EAAAH,aAAAG,YAAAA,EAAAQ,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAV,GAAAA,EAAAA,EAAAH,aAAAG,YAAAA,EAAAQ,OAAAR,YAAAA,EAAAS,MAAAA,CAAA,CAAA,YAAAR,EAAAJ,WAAA,CAAA,GAAAI,EAAAJ,WAAAW,KAAA,CAAA,IAAAP,EAAAA,EAAAJ,aAAAI,YAAAA,EAAAO,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA,GAAA,IAAAT,GAAAA,EAAAA,EAAAJ,aAAAI,YAAAA,EAAAO,OAAAP,YAAAA,EAAAQ,MAAAA,CAAA,CAAA,YAAAP,EAAAL,WAAA,CAAA,GAAAK,EAAAL,WAAAW,KAAA,CAAA,IAAAN,EAAAA,EAAAL,aAAAK,YAAAA,EAAAM,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAR,GAAAA,EAAAA,EAAAL,aAAAK,YAAAA,EAAAM,OAAAN,YAAAA,EAAAO,MAAAA,CAAA,CAAA,YAAAN,EAAAN,WAAA,CAAA,GAAAM,EAAAN,WAAAW,KAAA,CAAA,IAAAL,EAAAA,EAAAN,aAAAM,YAAAA,EAAAK,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAP,GAAAA,EAAAA,EAAAN,aAAAM,YAAAA,EAAAK,OAAAL,YAAAA,EAAAM,MAAAA,CAAA,CAAA,YAAAH,EAAAT,WAAA,CAAA,GAAAS,EAAAT,WAAAW,KAAA,CAAA,IAAAF,EAAAA,EAAAT,aAAAS,YAAAA,EAAAE,KAAAC,OAAA,CAAAC,eAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAA,IAAAJ,GAAAA,EAAAA,EAAAT,aAAAS,YAAAA,EAAAE,OAAAF,YAAAA,EAAAG,MAAAA,CAAA,CAAA"}