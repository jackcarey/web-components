var f=t=>{throw TypeError(t)};var g=(t,i,e)=>i.has(t)||f("Cannot "+e);var l=(t,i,e)=>(g(t,i,"read from private field"),e?e.call(t):i.get(t)),c=(t,i,e)=>i.has(t)?f("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(t):i.set(t,e);var u=(t,i,e)=>(g(t,i,"access private method"),e);var n,h,r;class C extends HTMLElement{constructor(){super(...arguments);c(this,n);c(this,r,e=>{if(this.disabled)return;const{type:b,key:o,repeat:A}=e;if(b!=="keydown"||!o||!this.allowRepeat&&A)return;const m=this.caseSensitive?this.filter:this.filter.toLowerCase(),d=this.caseSensitive?o:o.toLowerCase(),a=m.split(",").map(s=>s.trim()).filter(Boolean);if(!(!(a!=null&&a.length)||a.includes(d)))return;const p=this.querySelectorAll("kbd");if(p.length===0)return;const y=this.ignoreVisibility;p.forEach(s=>{const v=s.getAttribute("data-key")??s.innerText.trim(),w=(this.caseSensitive?v:v.toLowerCase())===d,k=y||s.checkVisibility();w&&k&&s.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0}))})})}static get observedAttributes(){return["allow-repeat","filter","capture","passive","case-sensitive","ignore-visibility","disabled"]}connectedCallback(){u(this,n,h).call(this)}disconnectedCallback(){document.removeEventListener("keydown",l(this,r))}attributeChangedCallback(e){["capture","passive","disabled"].includes(e)&&u(this,n,h).call(this)}get allowRepeat(){return this.hasAttribute("allow-repeat")}set allowRepeat(e){e?this.setAttribute("allow-repeat",""):this.removeAttribute("allow-repeat")}get filter(){return this.getAttribute("filter")||""}set filter(e){e!=null&&e.length?this.setAttribute("filter",e):this.removeAttribute("filter")}get capture(){return this.hasAttribute("capture")}set capture(e){e?this.setAttribute("capture",""):this.removeAttribute("capture")}get passive(){return this.hasAttribute("passive")}set passive(e){e?this.setAttribute("passive",""):this.removeAttribute("passive")}get caseSensitive(){return this.hasAttribute("case-sensitive")}set caseSensitive(e){e?this.setAttribute("case-sensitive",""):this.removeAttribute("case-sensitive")}get ignoreVisibility(){return this.hasAttribute("ignore-visibility")}set ignoreVisibility(e){e?this.setAttribute("ignore-visibility",""):this.removeAttribute("ignore-visibility")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}n=new WeakSet,h=function(){document.removeEventListener("keydown",l(this,r));const e={capture:this.hasAttribute("capture"),passive:this.hasAttribute("passive"),once:!1};this.disabled||document.addEventListener("keydown",l(this,r),e)},r=new WeakMap;customElements.get("kbd-click")||customElements.define("kbd-click",C);export{C as default};
//# sourceMappingURL=index-k3KnM4uq.js.map
